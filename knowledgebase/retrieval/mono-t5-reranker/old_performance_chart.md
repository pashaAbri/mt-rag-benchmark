# Combined Reranking Performance

## Strategy Definitions

- **Rewrite (Baseline)**: Standard ELSER retrieval using only the rewritten query (no reranking).
- **2-Strategy (Lastturn + Rewrite)**: Combines documents retrieved by `lastturn` and `rewrite` queries, then reranks the pool with MonoT5.
- **2-Strategy (Questions + Rewrite)**: Combines documents retrieved by `questions` and `rewrite` queries, then reranks the pool with MonoT5.
- **3-Strategy**: Combines documents retrieved by `lastturn`, `rewrite`, and `questions` queries, then reranks the pool with MonoT5.

## Detailed Metrics

| Domain     | Strategy             | R@1        | R@3        | R@5        | R@10       | nDCG@1     | nDCG@3     | nDCG@5     | nDCG@10    |
| :--------- | :------------------- | :--------- | :--------- | :--------- | :--------- | :--------- | :--------- | :--------- | :--------- |
| **ALL**    | Rewrite              | 0.1875     | 0.3722     | 0.4761     | 0.6078     | 0.4286     | 0.3991     | 0.4379     | 0.4952     |
|            | **2-Strategy (L+R)** | **0.2037** | 0.3980     | 0.4964     | 0.6220     | **0.4582** | **0.4272** | 0.4638     | 0.5174     |
|            | **2-Strategy (Q+R)** | 0.2022     | 0.3954     | 0.4974     | 0.6311     | 0.4556     | 0.4249     | 0.4635     | 0.5204     |
|            | **3-Strategy**       | 0.2021     | **0.3983** | **0.5000** | **0.6391** | 0.4556     | 0.4266     | **0.4650** | **0.5243** |
|            |                      |            |            |            |            |            |            |            |            |
| **ClapNQ** | Rewrite              | 0.2087     | **0.4244** | **0.5516** | 0.7005     | 0.5240     | 0.4700     | 0.5135     | 0.5780     |
|            | **2-Strategy (L+R)** | **0.2186** | 0.4233     | 0.5487     | 0.6988     | **0.5289** | **0.4766** | **0.5184** | 0.5826     |
|            | **2-Strategy (Q+R)** | 0.2153     | 0.4239     | 0.5415     | 0.7139     | 0.5289     | 0.4753     | 0.5139     | **0.5882** |
|            | **3-Strategy**       | 0.2153     | 0.4239     | 0.5427     | **0.7041** | 0.5289     | 0.4753     | 0.5148     | 0.5846     |
|            |                      |            |            |            |            |            |            |            |            |
| **Cloud**  | Rewrite              | 0.1793     | 0.3529     | 0.4297     | 0.5280     | 0.3777     | 0.3654     | 0.3940     | 0.4377     |
|            | **2-Strategy (L+R)** | **0.2113** | **0.3765** | **0.4602** | 0.5513     | **0.4309** | **0.4002** | **0.4312** | 0.4702     |
|            | **2-Strategy (Q+R)** | 0.2042     | 0.3583     | 0.4562     | 0.5501     | 0.4149     | 0.3839     | 0.4235     | 0.4645     |
|            | **3-Strategy**       | 0.2042     | 0.3631     | 0.4574     | **0.5641** | 0.4149     | 0.3870     | 0.4243     | **0.4708** |
|            |                      |            |            |            |            |            |            |            |            |
| **FiQA**   | Rewrite              | 0.1631     | 0.3099     | 0.4016     | 0.5358     | 0.3889     | 0.3441     | 0.3779     | 0.4355     |
|            | **2-Strategy (L+R)** | 0.1614     | **0.3487** | 0.4389     | **0.5571** | 0.4000     | 0.3699     | 0.4039     | **0.4542** |
|            | **2-Strategy (Q+R)** | 0.1656     | 0.3432     | 0.4335     | 0.5368     | 0.4111     | 0.3698     | 0.4029     | 0.4462     |
|            | **3-Strategy**       | **0.1637** | **0.3487** | **0.4398** | 0.5564     | **0.4056** | **0.3719** | **0.4052** | **0.4542** |
|            |                      |            |            |            |            |            |            |            |            |
| **Govt**   | Rewrite              | 0.1936     | 0.3923     | 0.5082     | 0.6510     | 0.4129     | 0.4067     | 0.4540     | 0.5169     |
|            | **2-Strategy (L+R)** | 0.2191     | 0.4359     | 0.5277     | 0.6670     | **0.4627** | 0.4527     | 0.4916     | 0.5507     |
|            | **2-Strategy (Q+R)** | 0.2195     | 0.4475     | 0.5474     | 0.7054     | 0.4577     | 0.4605     | 0.5029     | 0.5689     |
|            | **3-Strategy**       | **0.2208** | **0.4492** | **0.5497** | **0.7161** | **0.4627** | **0.4621** | **0.5051** | **0.5749** |

## Detailed Performance Chart

### 2-Strategy vs Rewrite Baseline

Percentage improvement of **2-Strategy (Lastturn + Rewrite)** over **Query Rewrite** baseline:

| Domain     | R@1        | R@3        | R@5       | R@10      | nDCG@1     | nDCG@3     | nDCG@5    | nDCG@10   |
| :--------- | :--------- | :--------- | :-------- | :-------- | :--------- | :--------- | :-------- | :-------- |
| **ALL**    | +8.7%      | +7.0%      | +4.2%     | +2.4%     | +6.9%      | +7.0%      | +5.9%     | +4.5%     |
| **Govt**   | +13.2%     | +11.1%     | +3.8%     | +2.5%     | +12.1%     | **+11.3%** | +8.3%     | +6.5%     |
| **Cloud**  | **+17.8%** | +6.7%      | +7.1%     | **+4.4%** | **+14.1%** | +9.5%      | **+9.4%** | **+7.4%** |
| **FiQA**   | -1.0%      | **+12.5%** | **+9.3%** | +4.0%     | +2.9%      | +7.5%      | +6.9%     | +4.3%     |
| **ClapNQ** | +4.7%      | -0.3%      | -0.5%     | -0.2%     | +0.9%      | +1.4%      | +1.0%     | +0.8%     |

### 3-Strategy vs Rewrite Baseline

Percentage improvement of **3-Strategy Combined** over **Query Rewrite** baseline:

| Domain     | R@1        | R@3        | R@5       | R@10       | nDCG@1     | nDCG@3     | nDCG@5     | nDCG@10    |
| :--------- | :--------- | :--------- | :-------- | :--------- | :--------- | :--------- | :--------- | :--------- |
| **ALL**    | +7.8%      | +7.0%      | +5.0%     | +5.2%      | +6.3%      | +6.9%      | +6.2%      | +5.9%      |
| **Govt**   | **+14.0%** | **+14.5%** | +8.2%     | **+10.0%** | **+12.1%** | **+13.6%** | **+11.3%** | **+11.2%** |
| **Cloud**  | +13.9%     | +2.9%      | +6.4%     | +6.8%      | +9.9%      | +5.9%      | +7.7%      | +7.6%      |
| **FiQA**   | +0.4%      | +12.5%     | **+9.5%** | +3.8%      | +4.3%      | +8.1%      | +7.2%      | +4.3%      |
| **ClapNQ** | +3.2%      | -0.1%      | -1.6%     | +0.5%      | +0.9%      | +1.1%      | +0.3%      | +1.1%      |

### 3-Strategy vs 2-Strategy (L+R)

Percentage difference of **3-Strategy** compared to **2-Strategy (Lastturn + Rewrite)** (i.e., the marginal gain of adding the **"Questions"** strategy):

| Domain     | R@1       | R@3       | R@5       | R@10      | nDCG@1    | nDCG@3    | nDCG@5    | nDCG@10   |
| :--------- | :-------- | :-------- | :-------- | :-------- | :-------- | :-------- | :-------- | :-------- |
| **ALL**    | -0.8%     | +0.1%     | +0.7%     | +2.7%     | -0.6%     | -0.2%     | +0.2%     | +1.3%     |
| **Govt**   | +0.8%     | **+3.1%** | **+4.2%** | **+7.4%** | 0.0%      | **+2.1%** | **+2.7%** | **+4.4%** |
| **Cloud**  | -3.4%     | -3.6%     | -0.6%     | +2.3%     | -3.7%     | -3.3%     | -1.6%     | +0.1%     |
| **FiQA**   | **+1.4%** | 0.0%      | +0.2%     | -0.1%     | **+1.4%** | +0.5%     | +0.3%     | 0.0%      |
| **ClapNQ** | -1.5%     | +0.1%     | -1.1%     | +0.8%     | 0.0%      | -0.3%     | -0.7%     | +0.3%     |
